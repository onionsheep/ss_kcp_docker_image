<html>
<head>
    <title></title>
    <script src="jquery-3.1.1.min.js"></script>
    <script src="qrcode.min.js"></script>
    <script src="underscore-min.js"></script>
    <style>

    </style>
</head>
<body>
<script id="infos-template" type="template/underscorejs">
    <div><%
        _.each(containers,function(container,key,list){
        %>
        <div class="container-name"><%=container["container"]%></div>
        <div class="ss-link"><%=container['ss_link']%></div>
        <div class="ss-string"><%=container['ss_string']%></div>
        <div class="qr-code" data-text="<%=container['ss_link']%>"></div>
        <%
        })
        %>
    </div>
</script>
<div id="infos"></div>

</body>
<script>
    $(function () {
        var $infos = $("#infos");
        $.get("/", function (data) {
            var infos = data;
            var infos_template = $("#infos-template").html();
            var infos_html = _.template(infos_template)({"containers": infos});
            $("#infos").html(infos_html);
            $(".qr-code").each(function(){
                var $qrcode = $(this);
                var qrcode = new QRCode($qrcode[0], {
                    text: $qrcode.data("text"),
                    width: 256,
                    height: 256,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
            });
        });
    });
</script>
</html>